Experiment No.4:
implementation of network topoloy with respect to no. of nodes and physical layer configuration.


set ns [new Simulator]

set nf [open tcp1.nam w]
$ns namtrace-all $nf

set nt [open tcp1.tr w]
$ns trace-all $nt
set proto rlm
$ns color 1 blue
$ns color 2 yellow
$ns color 3 red

set Client1 [$ns node]
set Client2 [$ns node]
set Client3 [$ns node]
set Client4 [$ns node]
set Router1 [$ns node]
set Endserver1 [$ns node]


$ns duplex-link $Client1 $Router1 2Mb 100ms DropTail
$ns duplex-link $Client2 $Router1 2Mb 100ms DropTail 
$ns duplex-link $Client3 $Router1 2Mb 100ms DropTail
$ns duplex-link $Client4 $Router1 2Mb 100ms DropTail 
$ns duplex-link $Router1 $Endserver1 200kb 100ms DropTail


$ns duplex-link-op $Client1 $Router1 orient right
$ns duplex-link-op $Client2 $Router1 orient up


$ns duplex-link-op $Client3 $Router1 orient down
$ns duplex-link-op $Client4 $Router1 orient right-down
$ns duplex-link-op $Router1 $Endserver1 orient right


$ns at 0.0 "$Client1 label Client1"
$ns at 0.0 "$Client2 label Client1"
$ns at 0.0 "$Client3 label Client1"
$ns at 0.0 "$Client4 label Client1"
$ns at 0.0 "$Router1 label Router1"
$ns at 0.0 "$Endserver1 label Endserver1"


$Endserver1 shape hexagon
$Router1 shape square


$ns duplex-link-op $Client1 $Router1 queuePos 0.1
$ns duplex-link-op $Router1 $Endserver1 queuePos 0.5

proc finish {} {
global ns nf nt
$ns flush-trace
close $nf
close $nt


puts "running nam..."
exec nam tcp1.nam &
exit 0
}

$ns at 6.0 "finish"


$ns run
